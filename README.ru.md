[EN](README.md)

# mtsp-routing-core

Решить multiple traveling salesman problem (MTSP).

## Исходные данные
1. Список пунктов назначения A, все вершины из которого должны быть достижимы в графе G
2. Количество кластеров K
3. Сильно связный взвешенный граф G, представленный списками смежности, вес ребра равен его длине
   1. n - количество вершин в графе
   2. m - количество ребер

## Алгоритм

### I. Проверить, что точки из A достижимы в G
Временная сложность O(n<sup>2</sup>).

### II. Разбить точки из A на кластеры
Временная сложность 1 итерации алгоритма O(n<sup>2</sup> * m * log(n * P)), P - наибольшая длина ребра.

Лимит итераций = 1000.

Для разделения точек используется алгоритм
[Constrained K-Means](https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/tr-2000-65.pdf).

Для решения minimum-cost flow problem используется библиотека
[Google OR-Tools](https://developers.google.com/optimization/flow/mincostflow).

### III. Решить TSP в каждом кластере

Время выполнения в секундах = 30 * K / C, C - количество доступных потоков.

Для решения используется генетический алгоритм. Поиск решения для 1 кластера выполняется 30 секунд.

### IV. Построить маршрут в каждом кластере

Временная сложность O(n * m).

Для построения маршрута между двумя вершинами используется алгоритм A*.
